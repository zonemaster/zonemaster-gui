---
import * as m from "../paraglide/messages.js";
import { getRelativeLocaleUrl } from 'astro:i18n';
import { languageTag } from '../paraglide/runtime';

const currentLanguage = languageTag();
const homeUrl = getRelativeLocaleUrl(currentLanguage, '/');
const faqUrl = getRelativeLocaleUrl(currentLanguage, '/faq');
const { pathname } = Astro.url;
---
<nav class="zm-menu" aria-label="Main navigation">
  <ul class="zm-menu-list">
    <li><a class:list={[ 'zm-menu-item', { active: pathname === homeUrl } ]} href={homeUrl}>{m.startTestNav()}</a></li>
    <li><a class:list={[ 'zm-menu-item', { active: pathname === faqUrl } ]} href={faqUrl}>{m.faqNav()}</a></li>
  </ul>
</nav>

<style>
  .zm-menu {
    display: flex;
    width: 100%;

    @media screen and (min-width: 769px) {
      margin-left: var(--spacing-l);
    }
  }

  .zm-menu-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    width: 100%;;

    li {
      margin: 0;
      padding: 0;
      display: flex;
      align-items: center;
      border-bottom: 1px solid var(--color-palette-main-50);
    }


    @media screen and (min-width: 769px) {
      gap: 1rem;
      flex-direction: row;

      li {
        border-bottom: 0;
      }
    }
  }

  .zm-menu-item {
    display: flex;
    align-items: center;
    width: 100%;
    color: var(--color-muted);
    padding: var(--spacing-s);

    &.active {
      font-weight: var(--font-heading-weight);
    }

    @media screen and (min-width: 769px) {
      height: var(--site-header-height);
      padding: 0 var(--spacing-xs);
    }

    &:hover,
    &.active {
      color: var(--color-text);
      position: relative;

      @media screen and (min-width: 769px) {
        &::after {
          content: '';
          position: absolute;
          bottom: 0;
          left: 0;
          width: 100%;
          height: 5px;
          background-color: var(--color-palette-main-30);
        }
      }
    }
  }
</style>
