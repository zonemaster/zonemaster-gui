---
import * as m from "../paraglide/messages.js";
import { getRelativeLocaleUrl } from 'astro:i18n';
import { languageTag } from '../paraglide/runtime';

const currentLanguage = languageTag();
const homeUrl = getRelativeLocaleUrl(currentLanguage, '/');
const faqUrl = getRelativeLocaleUrl(currentLanguage, '/faq');
const { pathname } = Astro.url;
---
<nav class="zm-menu" aria-label="Main navigation">
  <ul class="zm-menu-list">
    <li><a class:list={[ 'zm-menu-item', { active: pathname === homeUrl } ]} href={homeUrl}>{m.startTestNav()}</a></li>
    <li><a class:list={[ 'zm-menu-item', { active: pathname === faqUrl } ]} href={faqUrl}>{m.faqNav()}</a></li>
  </ul>
</nav>

<style>
  .zm-menu {
    display: flex;
    margin-left: var(--spacing-l);
  }

  .zm-menu-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 1rem;

    @media screen and (min-width: 769px) {
      flex-direction: row;
    }

    li {
      margin: 0;
      padding: 0;
    }
  }

  .zm-menu-item {
    display: flex;
    align-items: center;
    color: var(--color-muted);
    height: var(--site-header-height);
    padding: 0 var(--spacing-xs);

    &.active {
      font-weight: var(--font-heading-weight);
    }

    &:hover,
    &.active {
      color: var(--color-text);
      position: relative;

      &::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 5px;
        background-color: var(--color-palette-main-30);
      }
    }
  }
</style>
