---
import FAQ from '../../components/Faq.astro';
import Layout from '../../layouts/Layout.astro';
import config from '../../../astro.config.mjs';
import {getCollection} from "astro:content";

export function getStaticPaths () {
	if (!config.i18n) {
		return [
			{ params: { lang: 'en' } },
		];
	}

	return config.i18n.locales
		.filter(lang => lang !== config?.i18n?.defaultLocale)
		.map(lang => ({ params: { lang } }));
}

const faq = await getCollection('faq') as Array<{ data: { category: string } }>;
const grouped = Object.groupBy(faq, (item) => item.data.category);
---

<Layout>
	<FAQ data={grouped} />
</Layout>
